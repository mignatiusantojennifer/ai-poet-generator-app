import os
import streamlit as st
from langchain.chat_models import ChatOpenAI
from langchain.schema import SystemMessage, HumanMessage
import google.generativeai as genai

os.environ['GOOGLE_API_KEY'] = "AIzaSyDvAJcT-nTowltjiLbZI73-n08gpTunYWo"
os.environ['OPENAI_API_KEY'] = "AIzaSyDvAJcT-nTowltjiLbZI73-n08gpTunYWo"

genai.configure(api_key=os.environ['AIzaSyDvAJcT-nTowltjiLbZI73-n08gpTunYWo'])

def fetch_travel_options(source, destination):
    model = genai.GenerativeModel("gemini-pro")
    prompt = f"Suggest travel options from {source} to {destination}, including flights, trains, buses, and taxis with estimated costs."
    response = model.generate_content(prompt)
    return response.text if response else "No response from AI."

def fetch_travel_options_langchain(source, destination):
    llm = ChatOpenAI(model_name="gpt-4")
    messages = [
        SystemMessage(content="You are an AI travel assistant providing optimal travel routes."),
        HumanMessage(content=f"Find the best travel options from {source} to {destination} with estimated costs.")
    ]
    response = llm(messages)
    return response.content

st.title("üõ´ AI-Powered Travel Planner üåç")
st.write("Plan your trips smartly with AI-generated travel recommendations!")

source = st.text_input("Enter Source Location:")
destination = st.text_input("Enter Destination Location:")

if st.button("Find Travel Options"):
    if source and destination:
        with st.spinner("Fetching travel options..."):
            travel_info_gemini = fetch_travel_options(source, destination)
            travel_info_langchain = fetch_travel_options_langchain(source, destination)
            
            st.success(" Here are your AI-generated travel options:")
            st.subheader("üöÄ Google Gemini AI Suggestions:")
            st.write(travel_info_gemini)

            st.subheader("üß† GPT-4 (LangChain) Suggestions:")
            st.write(travel_info_langchain)
    else:
        st.error("‚ö†Ô∏è Please enter both source and destination.")

st.markdown("---")
st.write("Powered by Google Gemini API & LangChain")


# sample output 
‚úÖ Here are your AI-generated travel options:

üöÄ Google Gemini AI Suggestions:
- Flight from New York to Los Angeles: $320
- Train option: $150
- Bus option: $75
- Taxi estimate: $45 (short-distance)

üß† GPT-4 (LangChain) Suggestions:
- Fastest option: Direct flight (3h 45m)
- Cheapest option: Bus (12h, $75)
- Best balance: Train (6h, $150)
#
